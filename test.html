<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Try for highlight</title>   
    
</head>
<body>
    <style type="text/css"></style>
    <p id="demo" style="display: flex;" >Maybe Highlight have been done. Try to highlight and catch the text which one have selected by user</p></br>
    <hr>
    <!-- <p id="demo" style="display: flex;">Batman is nicer than superman sometimes.</p></br>
    <p id="demo" style="display: flex;">Green lantern and flash are friendly like brother.</p></br>
    <p id="demo" style="display: flex;">Batman, superman, wonderwoman, flash, green lantern and supergirl are member of justice league.</p></br> -->
    
    <button id="hiLight">HiLight</button>
    <button id="erase">Erase</button>
    
    <script>
        
        var hiLight=document.getElementById("hiLight")
        var text=document.getElementById("demo")
        //var text=document.getElementsByTagName("P")
        //text.id="demo"
        console.log(text)

        //var text=document.getElementById("demo")
        var erase=document.getElementById("erase")

        text.addEventListener('mouseup',function (){
            let catchtext=getSelection().toString().trim()
            console.log(catchtext)
            let copycatchtext=catchtext
            
            let paragraph=document.createElement("span")
            paragraph.innerHTML=copycatchtext
            
            hiLight.addEventListener('click',function highLight(){
                // paragraph.setAttribute("style","color: background-color: display: ")
                // paragraph.style.color='white'
                // paragraph.style.backgroundColor='red'
                // paragraph.style.display='inline-block'
                var realHighlight="<span style= 'color: white; background-color:red; display:flex'>"+paragraph.innerHTML+"</span>"
                var markedparagraph=text.innerHTML.replace(catchtext,realHighlight)
                document.getElementById("demo").innerHTML=markedparagraph
            })
            
            erase.addEventListener('click',function erase(){
                var erase="<span style='color: black; background-color: white'>"+paragraph.innerHTML+"</span>"
                var pureparagraph=text.innerHTML.replace(catchtext,erase)
                document.getElementById("demo").innerHTML=pureparagraph
            })
            
        })
    
    </script>
</body>

</html>